<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Compare | Page Replacement - OS Platform</title>
  <style>
    :root{
      --bg:#000;--bg-2:#0a0a0a;--panel:#111;--panel-2:#131313;--line:#222;
      --text:#fff;--muted:#b9c2cc;--accent:#00bfff;--btn:#0078ff;--btn-hover:#005ec9;
      --good:#0ecb81;--warn:#ffcc00;--bad:#ff5c5c;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:Arial,system-ui,-apple-system,sans-serif;
      background:var(--bg);
      color:var(--text);
    }

    /* header â€“ Learn í˜ì´ì§€ì™€ ë™ì¼í•œ ë“œë¡­ë‹¤ìš´ ìŠ¤íƒ€ì¼ */
    header{
      position:sticky;top:0;z-index:20;
      display:flex;justify-content:space-between;align-items:center;
      padding:20px 60px;background:var(--bg-2);border-bottom:1px solid var(--line)
    }
    .logo{
    display:flex;
    align-items:center;
    gap:8px;
    text-decoration:none;   /* ë°‘ì¤„ ì œê±° */
    }

    /* ê¸€ì ìŠ¤íƒ€ì¼ (í•­ìƒ í•˜ì–€ìƒ‰) */
    .logo-text{
        font-size:1.4em;
        font-weight:700;
        color:#ffffff;          /* â† ë¬´ì¡°ê±´ í°ìƒ‰ìœ¼ë¡œ í†µì¼ */
    }

    /* ì•„ì´ì½˜ í¬ê¸° */
    .logo-icon{
        width:26px;
        height:26px;
        flex-shrink:0;
    }


    nav{display:flex;align-items:center;gap:150px}
    .dropdown{position:relative;display:inline-block;padding:6px 0;cursor:pointer}
    .dropdown::after{
      content:" âŒ„";display:inline-block;font-size:.8em;color:#ccc;
      transition:transform .25s ease,color .25s ease
    }
    .dropdown:hover::after{transform:rotate(180deg);color:var(--accent)}
    .dropdown-content{
      display:none;position:absolute;background:#111;min-width:180px;
      box-shadow:0 8px 16px rgba(0,0,0,.3);z-index:10
    }
    .dropdown-content a{
      color:#fff;padding:10px 14px;text-decoration:none;display:block
    }
    .dropdown-content a:hover{background:#333}
    .dropdown:hover .dropdown-content{display:block}
    .dropdown > span > a{color:#fff;text-decoration:none}
    .actions{display:flex;align-items:center;gap:20px}
    #authArea{}

    .profile-btn{
      background:transparent;
      border:none;
      padding:0;
      cursor:pointer;
      line-height:0;
      border-radius:999px;
      outline:none;
    }
    .profile-btn svg{
      width:36px;
      height:36px;
      background:#fff;
      border-radius:999px;
      padding:4px;
    }
    .profile-btn:hover svg{
      box-shadow:0 0 0 3px rgba(0,191,255,.25);
    }

    .btn-row{
      display:flex;
      gap:8px;
      margin-top:10px;
      justify-content:flex-end;
    }
    .btn{
      border:none;
      border-radius:999px;
      padding:8px 16px;
      font-size:.9rem;
      cursor:pointer;
      background:var(--btn);
      color:#fff;
    }
    .btn:hover{
      background:var(--btn-hover);
    }

    @media (max-width:880px){
      header{padding:16px 20px;flex-wrap:wrap;gap:12px}
      nav{gap:40px}
    }

    /* ë³¸ë¬¸ ë ˆì´ì•„ì›ƒ */
    main{max-width:1120px;margin:0 auto;padding:26px 20px 60px}

    h1{font-size:1.8rem;margin:4px 0 8px}
    .subtitle{color:var(--muted);font-size:.95rem;margin-bottom:20px}

    .pill-row{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:18px}
    .pill{
      border-radius:999px;border:1px solid var(--line);
      padding:4px 10px;font-size:.8rem;color:var(--muted);
      display:inline-flex;align-items:center;gap:4px;
    }
    .pill span.dot{
      width:7px;height:7px;border-radius:50%;background:var(--accent);
    }

    .panel{
      background:linear-gradient(180deg,var(--panel) 0%,var(--panel-2) 100%);
      border:1px solid var(--line);
      border-radius:16px;
      padding:18px 20px 18px;
      margin-bottom:18px;
    }
    .panel h2{
      font-size:1.15rem;
      margin:0 0 6px;
    }
    .panel .sub{
      font-size:.9rem;color:var(--muted);margin:0 0 12px;
    }

    /* ìƒë‹¨ ê³ ì • ë¹„êµí‘œ */
    .alg-table{
      width:100%;
      border-collapse:collapse;
      font-size:.9rem;
    }
    .alg-table thead{
      background:rgba(255,255,255,.02);
    }
    .alg-table th,
    .alg-table td{
      border:1px solid var(--line);
      padding:8px 10px;
      vertical-align:top;
    }
    .alg-table th{
      text-align:left;
      font-size:.85rem;
    }
    .alg-col-name{
      font-weight:600;
      white-space:nowrap;
    }
    .alg-table td{
      color:#dbe3ee;
      font-size:.86rem;
    }

    .tag{
      display:inline-block;
      padding:3px 8px;
      border-radius:999px;
      border:1px solid var(--line);
      font-size:.75rem;
      margin:0 4px 2px 0;
      color:#cfd9ea;
    }
    .tag-good{color:var(--good)}
    .tag-warn{color:var(--warn)}
    .tag-bad{color:var(--bad)}

    /* í•˜ë‹¨ ì§ì ‘ ë¹„êµ ì˜ì—­ */
    .section-title{
      margin:26px 0 8px;
      font-size:1.25rem;
    }
    .section-desc{
      margin:0 0 14px;
      font-size:.92rem;
      color:var(--muted);
    }

    .scenario-row{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:16px;
      margin-bottom:10px;
      flex-wrap:wrap;
    }
    .scenario-row-left{display:flex;align-items:center;gap:10px;font-size:.9rem;color:var(--muted)}
    select{
      background:#050506;
      color:var(--text);
      border-radius:10px;
      border:1px solid var(--line);
      padding:6px 10px;
      font-size:.88rem;
      min-width:130px;
    }

    .compare-grid{
      display:grid;
      grid-template-columns:repeat(2,1fr);
      gap:16px;
      margin-top:6px;
    }

    .compare-card{
      background:linear-gradient(180deg,#0e0e0e 0%,#101018 100%);
      border-radius:16px;
      border:1px solid var(--line);
      padding:14px 16px 16px;
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    .compare-header{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
    }
    .compare-title{
      font-size:.95rem;
      font-weight:600;
    }
    .compare-meta{
      font-size:.8rem;color:var(--muted);
    }
    .mini-label{font-size:.78rem;color:var(--muted);margin-bottom:3px}

    .metric-table{
      width:100%;
      border-collapse:collapse;
      font-size:.83rem;
      margin-top:2px;
    }
    .metric-table th,
    .metric-table td{
      border:1px solid var(--line);
      padding:5px 6px;
    }
    .metric-table th{
      text-align:left;
      color:#dbe9f5;
      width:40%;
    }
    .metric-table td.placeholder{
      color:#6f7b88;
      font-style:italic;
    }

    .gantt-box{
      border-radius:10px;
      border:1px dashed var(--line);
      padding:10px;
      font-size:.8rem;
      color:#778495;
      text-align:left;   /* ì™¼ìª½ ì •ë ¬ë¡œ ë³€ê²½ */
      min-height:32px;
      display:flex;
      align-items:center;
    }

    /* ğŸ”¹ Frame Timeline ì  ê·¸ë˜í”„ */
    .timeline-visual{
      display:flex;
      flex-wrap:wrap;
      gap:4px;
      justify-content:flex-start;
    }
    .timeline-dot{
      width:10px;
      height:10px;
      border-radius:999px;
      background:#334155;   /* ê¸°ë³¸: íšŒìƒ‰ */
      opacity:0.95;
    }
    .timeline-dot.fault{
      background:var(--bad);   /* ë¹¨ê°•: Fault */
    }
    .timeline-dot.hit{
      background:var(--good);  /* ì´ˆë¡: Hit */
    }

    .compare-note{
      margin-top:12px;
      font-size:.84rem;
      color:var(--muted);
      border-top:1px dashed var(--line);
      padding-top:10px;
    }

    .comment-panel{
      margin-top:14px;
      padding:10px 12px;
      border-radius:10px;
      border:1px dashed var(--line);
      font-size:.86rem;
      color:var(--muted);
    }
    .comment-panel span{
      color:var(--accent);
    }

    @media(max-width:900px){
      main{padding:22px 16px 50px}
      .compare-grid{grid-template-columns:1fr}
    }
  </style>
</head>
<body>
<header>
  <a href="/index.html" class="logo">
    <svg class="logo-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
      <circle cx="12" cy="12" r="10" stroke="#00bfff" stroke-width="2" fill="none" />
      <path d="M2 12h20M12 2c3.5 4 3.5 16 0 20M12 2c-3.5 4-3.5 16 0 20"
            stroke="#00bfff" stroke-width="2" fill="none"/>
    </svg>
    <span class="logo-text">OS Platform</span>
  </a>



  <nav>
    <!-- Learn -->
    <div class="dropdown">
      <span>Learn</span>
      <div class="dropdown-content">
        <a href="/learn-scheduling.html">CPU Scheduling</a>
        <a href="/learn-paging.html">Page Replacement</a>
        <a href="/learn-deadlock.html">Deadlock</a>
      </div>
    </div>

    <!-- Simulator -->
    <div class="dropdown">
      <span>Simulator</span>
      <div class="dropdown-content">
        <a href="/sim-scheduling.html">CPU Scheduling Simulator</a>
        <a href="/sim-paging.html">Page Replacement Simulator</a>
      </div>
    </div>

    <!-- Compare -->
    <div class="dropdown">
      <span>Compare</span>
      <div class="dropdown-content">
        <a href="/compare-scheduling.html">Scheduling Algorithms Compare</a>
        <a href="/compare-paging.html">Paging Algorithms Compare</a>
      </div>
    </div>
  </nav>

  <div class="actions">
    <div id="authArea"></div>
  </div>
</header>

<main>
  <h1>Page Replacement Algorithm Compare</h1>
  <p class="subtitle">
    í˜ì´ì§€ êµì²´ ì•Œê³ ë¦¬ì¦˜ 4ê°œë¥¼ í•œëˆˆì— ë¹„êµí•´ì„œ ë³´ê±°ë‚˜,<br />
    ê°™ì€ ì°¸ì¡° ë¬¸ìì—´Â·í”„ë ˆì„ ìˆ˜ì—ì„œ ë‘ ì•Œê³ ë¦¬ì¦˜ì˜ <b>í˜ì´ì§€ í´íŠ¸ íŒ¨í„´</b>ì„ ë¹„êµí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  </p>

  <!-- ìƒë‹¨ ê³ ì • ë¹„êµí‘œ -->
  <section class="panel">
    <h2>ì•Œê³ ë¦¬ì¦˜ í•œëˆˆì— ë³´ê¸°</h2>
    <p class="sub">
      ì…ë ¥ ì‹œë‚˜ë¦¬ì˜¤ì™€ ìƒê´€ì—†ì´ ë³€í•˜ì§€ ì•ŠëŠ” í˜ì´ì§€ êµì²´ ì•Œê³ ë¦¬ì¦˜ 4ê°€ì§€ì˜ í•µì‹¬ ì°¨ì´
    </p>

    <table class="alg-table">
      <thead>
      <tr>
        <th style="width:110px">Algorithm</th>
        <th style="width:110px">êµ¬í˜„ ë‚œì´ë„</th>
        <th>êµì²´ ê¸°ì¤€</th>
        <th>ìš”êµ¬ ì •ë³´ / í•˜ë“œì›¨ì–´</th>
        <th>ì¥ì </th>
        <th>ë‹¨ì  / íŠ¹ì§•</th>
      </tr>
      </thead>
      <tbody>
      <tr>
        <td class="alg-col-name">FIFO</td>
        <td>
          <span class="tag">ë§¤ìš° ì‰¬ì›€</span>
        </td>
        <td>
          ë¨¼ì € ë©”ëª¨ë¦¬ì— ë“¤ì–´ì˜¨ í˜ì´ì§€ë¥¼ ë¨¼ì € êµì²´
        </td>
        <td>
          <span class="tag">Queue ìë£Œêµ¬ì¡°ë§Œ í•„ìš”</span>
        </td>
        <td>
          êµ¬í˜„ì´ ë‹¨ìˆœí•˜ê³  ì˜¤ë²„í—¤ë“œê°€ ì ì–´, ë‹¤ë¥¸ ì •ì±…ê³¼ ì„±ëŠ¥ì„ ë¹„êµí•  ë•Œ
          <span class="tag-good">ê¸°ë³¸ ê¸°ì¤€</span>ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸° ì¢‹ìŒ
        </td>
        <td>
          ì´ˆê¸°ì— ìì£¼ ì“°ì´ëŠ” í˜ì´ì§€ê°€ ë¨¼ì € ì«“ê²¨ë‚  ìˆ˜ ìˆê³ ,
          í”„ë ˆì„ ìˆ˜ë¥¼ ëŠ˜ë ¤ë„ í˜ì´ì§€ í´íŠ¸ê°€ ì¦ê°€í•˜ëŠ”
          <span class="tag-bad">Beladyì˜ ëª¨ìˆœ</span>ì´ ë°œìƒí•  ìˆ˜ ìˆìŒ
        </td>
      </tr>

      <tr>
        <td class="alg-col-name">OPT</td>
        <td>
          <span class="tag tag-warn">ì´ë¡ ì </span>
        </td>
        <td>
          ì•ìœ¼ë¡œ <b>ê°€ì¥ ì˜¤ë«ë™ì•ˆ ì‚¬ìš©ë˜ì§€ ì•Šì„</b> í˜ì´ì§€ë¥¼ êµì²´
        </td>
        <td>
          <span class="tag tag-bad">ë¯¸ë˜ ì°¸ì¡° ì‹œí€€ìŠ¤ ì „ì²´</span>
        </td>
        <td>
          ì£¼ì–´ì§„ ì°¸ì¡° ë¬¸ìì—´ì—ì„œ <b>í˜ì´ì§€ í´íŠ¸ ìˆ˜ê°€ ìµœì†Œ</b>ê°€ ë˜ì–´,
          ë‹¤ë¥¸ ì•Œê³ ë¦¬ì¦˜ì˜ <span class="tag-good">ì´ë¡ ì  ìƒí•œì„ </span>ì´ ë¨
        </td>
        <td>
          ì‹¤ì œ ì‹œìŠ¤í…œì—ì„œëŠ” ë¯¸ë˜ë¥¼ ì•Œ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— <b>ì‹¤ì‹œê°„ êµ¬í˜„ ë¶ˆê°€</b>,<br/>
          ì‹œë®¬ë ˆì´ì…˜Â·ì´ë¡  ë¹„êµìš©ìœ¼ë¡œë§Œ ì‚¬ìš©
        </td>
      </tr>

      <tr>
        <td class="alg-col-name">LRU</td>
        <td>
          <span class="tag">ì¤‘ê°„</span>
        </td>
        <td>
          <b>ê°€ì¥ ì˜¤ë˜ ì°¸ì¡°ë˜ì§€ ì•Šì€</b> í˜ì´ì§€ë¥¼ êµì²´ (ì‹œê°„ì  ì§€ì—­ì„± ê°€ì •)
        </td>
        <td>
          <span class="tag">ìµœê·¼ ì°¸ì¡° ì‹œê° / ìˆœì„œ</span>
        </td>
        <td>
          ì‹¤ì œ í”„ë¡œê·¸ë¨ì˜ <b>ì§€ì—­ì„±(Locality)</b>ì— ì˜ ë§ê³ ,
          ë§ì€ ê²½ìš° OPTì— ë¹„êµì  <span class="tag-good">ê·¼ì ‘í•œ ì„±ëŠ¥</span>ì„ ë³´ì„
        </td>
        <td>
          ì •í™•í•œ LRU êµ¬í˜„ì€ ë¦¬ìŠ¤íŠ¸/ì¹´ìš´í„° ê°±ì‹  ë¹„ìš©ì´ ì»¤ì„œ,
          ë³´í†µ <b>ì°¸ì¡° ë¹„íŠ¸Â·ìŠ¤íƒ êµ¬ì¡°</b> ë“±ìœ¼ë¡œ ê·¼ì‚¬ êµ¬í˜„í•¨
        </td>
      </tr>

      <tr>
        <td class="alg-col-name">Clock (NUR)</td>
        <td>
          <span class="tag">ì‰¬ì›€ ~ ì¤‘ê°„</span>
        </td>
        <td>
          ì‹œê³„ ë°”ëŠ˜ì´ ê°€ë©´ì„œ <b>ì°¸ì¡° ë¹„íŠ¸ê°€ 0ì¸ í˜ì´ì§€</b>ë¶€í„° êµì²´ (í•„ìš” ì‹œ Dirty ë¹„íŠ¸ ê³ ë ¤)
        </td>
        <td>
          <span class="tag">ì°¸ì¡° ë¹„íŠ¸(R)</span>
          <span class="tag">ë³€í˜• ë¹„íŠ¸(D, ì„ íƒ)</span>
        </td>
        <td>
          ê°„ë‹¨í•œ ë¹„íŠ¸ ì •ë³´ë§Œìœ¼ë¡œ LRUë¥¼ <span class="tag-good">ì €ë ´í•˜ê²Œ ê·¼ì‚¬</span>í•  ìˆ˜ ìˆì–´
          ì‹¤ì œ OSì—ì„œ ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” ê³„ì—´
        </td>
        <td>
          ìŠ¤ìº” ì£¼ê¸°Â·ë¦¬ìŠ¤íŠ¸ í¬ê¸°ì— ë”°ë¼ ì„±ëŠ¥ì´ ë‹¬ë¼ì§€ë©°,
          ì •í™• LRUë§Œí¼ ì •ë°€í•˜ì§€ëŠ” ëª»í•¨. êµ¬í˜„ì— ë”°ë¼ ë‹¤ì–‘í•œ ë³€ì¢…ì´ ì¡´ì¬
        </td>
      </tr>
      </tbody>
    </table>
  </section>

  <!-- í•˜ë‹¨: ì§ì ‘ ë¹„êµ -->
  <h2 class="section-title">ì§ì ‘ ë¹„êµí•˜ê¸°</h2>
  <p class="section-desc">
    ì°¸ì¡° ë¬¸ìì—´(Reference String)ê³¼ í”„ë ˆì„ ìˆ˜ë¥¼ ì„ íƒí•˜ê³ ,
    ë¹„êµí•˜ê³  ì‹¶ì€ ì•Œê³ ë¦¬ì¦˜ì„ ì„ íƒí•´ <b>í˜ì´ì§€ í´íŠ¸ ìˆ˜Â·Hit Rate</b>ë¥¼ ì§ê´€ì ìœ¼ë¡œ ë¹„êµí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  </p>

  <div class="panel" style="margin-bottom:0">
    <div class="scenario-row">
      <div class="scenario-row-left">
        <strong> ì˜ˆì‹œ ì‹œë‚˜ë¦¬ì˜¤ ì„ íƒ - - - - - </strong>
      </div>
      <div>
        <select name="scenario" id="scenario-select">
          <option value="A">Preset A â€“ ì¢‹ì€ ì§€ì—­ì„±(ìˆœì°¨ì ì¸ ë°°ì—´ ì ‘ê·¼)</option>
          <option value="B">Preset B â€“ ëœë¤ ì ‘ê·¼ì´ ì„ì¸ íŒ¨í„´</option>
          <option value="C">Preset C â€“ Working Set &gt; í”„ë ˆì„ ìˆ˜</option>
        </select>
      </div>
    </div>

    <div class="scenario-row">
      <div class="scenario-row-left">
        <span>í”„ë ˆì„ ìˆ˜ ì„ íƒ</span>
      </div>
      <div>
        <select name="frames" id="frame-select">
          <option value="3">3 Frames</option>
          <option value="4">4 Frames</option>
          <option value="5">5 Frames</option>
          <option value="8">8 Frames</option>
        </select>
      </div>
    </div>

    <div class="compare-grid">
      <!-- ì™¼ìª½ ì•Œê³ ë¦¬ì¦˜ -->
      <div class="compare-card">
        <div class="compare-header">
          <div>
            <div class="compare-title">ì„ íƒ ì•Œê³ ë¦¬ì¦˜ - 1</div>
          </div>
          <div>
            <div class="mini-label">ì•Œê³ ë¦¬ì¦˜ ì„ íƒ</div>
            <select name="alg1" id="alg1-select">
              <option value="FIFO">FIFO</option>
              <option value="OPT">OPT</option>
              <option value="LRU">LRU</option>
              <option value="CLOCK">Clock (NUR)</option>
            </select>
          </div>
        </div>

        <div>
          <div class="mini-label">í•µì‹¬ ì§€í‘œ (ì„ íƒëœ ì‹œë‚˜ë¦¬ì˜¤ ê¸°ì¤€)</div>
          <table class="metric-table">
            <tr>
              <th>ì´ Page Fault ìˆ˜</th>
              <td id="alg1-faults" class="placeholder">ì‹¤í–‰ í›„ í‘œì‹œë©ë‹ˆë‹¤</td>
            </tr>
            <tr>
              <th>Page Fault Rate</th>
              <td id="alg1-faultRate" class="placeholder">-</td>
            </tr>
            <tr>
              <th>Hit Rate</th>
              <td id="alg1-hitRate" class="placeholder">-</td>
            </tr>
            <tr>
              <th>Average Memory Access Time</th>
              <td id="alg1-amat" class="placeholder">-</td>
            </tr>
            <tr>
              <th>Dirty Page Write íšŸìˆ˜</th>
              <td id="alg1-dirty" class="placeholder">-</td>
            </tr>
          </table>
        </div>

        <div>
          <div class="mini-label">Frame Timeline</div>
          <div class="gantt-box" id="alg1-timeline">
            ë¹„êµ ì‹¤í–‰ í›„ ì°¸ì¡°/í´íŠ¸ íƒ€ì„ë¼ì¸ì´ í‘œì‹œë©ë‹ˆë‹¤.
          </div>
        </div>
      </div>

      <!-- ì˜¤ë¥¸ìª½ ì•Œê³ ë¦¬ì¦˜ -->
      <div class="compare-card">
        <div class="compare-header">
          <div>
            <div class="compare-title">ì„ íƒ ì•Œê³ ë¦¬ì¦˜ - 2</div>
            <div class="compare-meta">ì˜¤ë¥¸ìª½ì— ì„ íƒëœ ì•Œê³ ë¦¬ì¦˜ì˜ ê²°ê³¼</div>
          </div>
          <div>
            <div class="mini-label">ì•Œê³ ë¦¬ì¦˜ ì„ íƒ</div>
            <select name="alg2" id="alg2-select">
              <option value="FIFO">FIFO</option>
              <option value="OPT">OPT</option>
              <option value="LRU">LRU</option>
              <option value="CLOCK">Clock (NUR)</option>
            </select>
          </div>
        </div>

        <div>
          <div class="mini-label">í•µì‹¬ ì§€í‘œ (ì„ íƒëœ ì‹œë‚˜ë¦¬ì˜¤ ê¸°ì¤€)</div>
          <table class="metric-table">
            <tr>
              <th>ì´ Page Fault ìˆ˜</th>
              <td id="alg2-faults" class="placeholder">ì‹¤í–‰ í›„ í‘œì‹œë©ë‹ˆë‹¤</td>
            </tr>
            <tr>
              <th>Page Fault Rate</th>
              <td id="alg2-faultRate" class="placeholder">-</td>
            </tr>
            <tr>
              <th>Hit Rate</th>
              <td id="alg2-hitRate" class="placeholder">-</td>
            </tr>
            <tr>
              <th>Average Memory Access Time</th>
              <td id="alg2-amat" class="placeholder">-</td>
            </tr>
            <tr>
              <th>Dirty Page Write íšŸìˆ˜</th>
              <td id="alg2-dirty" class="placeholder">-</td>
            </tr>
          </table>
        </div>

        <div>
          <div class="mini-label">Frame Timeline</div>
          <div class="gantt-box" id="alg2-timeline">
            ë¹„êµ ì‹¤í–‰ í›„ ì°¸ì¡°/í´íŠ¸ íƒ€ì„ë¼ì¸ì´ í‘œì‹œë©ë‹ˆë‹¤.
          </div>
        </div>
      </div>
    </div>

    <div class="comment-panel" id="insight-panel">
      <strong>Comparison Insight</strong><br/><br>
      <span id="insight-text">
        ì•Œê³ ë¦¬ì¦˜ ë¹„êµ í›„ ë™ì¼í•œ ì¡°ê±´ì—ì„œ ì™œ ì„œë¡œ ë‹¤ë¥¸ ì‹¤í–‰ íë¦„ê³¼ ì„±ëŠ¥ì„ ë³´ì´ëŠ”ì§€ ì„¤ëª…í•©ë‹ˆë‹¤.
      </span>
    </div>

    <div class="btn-row">
      <button type="button" class="btn" id="run-compare-paging-btn">
        ë¹„êµ ì‹¤í–‰
      </button>
      <button type="button" class="btn" id="save-compare-paging-btn">
        ë¹„êµ ê²°ê³¼ ì €ì¥í•˜ê¸°
      </button>
    </div>
  </div>
</main>

<script>
  // --- ë¡œê·¸ì¸ / í”„ë¡œí•„ ë²„íŠ¼ ì„¤ì • + ë²„íŠ¼ ì´ë²¤íŠ¸ ë“±ë¡ ---
  document.addEventListener('DOMContentLoaded', () => {
    // 1) ë¡œê·¸ì¸ ì²´í¬: ë¹„ë¡œê·¸ì¸ì´ë©´ í˜ì´ì§€ ì§„ì… ë§‰ê¸°
    const user = sessionStorage.getItem('user');
    if (!user || user.trim() === '') {
      alert('ë¡œê·¸ì¸ì´ í•„ìš”í•œ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.');
      window.location.href = 'login.html';
      return;
    }

    // 2) ë¡œê·¸ì¸ëœ ìƒíƒœë©´ í”„ë¡œí•„ ì•„ì´ì½˜ ê³ ì •
    const container = document.getElementById('authArea');
    if (container) {
      container.innerHTML = `
        <button class="profile-btn" aria-label="My Page" title="My Page" onclick="location.href='mypage.html'">
          <svg viewBox="0 0 24 24" fill="black" xmlns="http://www.w3.org/2000/svg">
            <circle cx="12" cy="8" r="4"></circle>
            <path d="M4 20c0-4 4-6 8-6s8 2 8 6"></path>
          </svg>
        </button>
      `;
    }

    // 3) ë²„íŠ¼ ì´ë²¤íŠ¸ ë“±ë¡
    const saveBtn = document.getElementById('save-compare-paging-btn');
    if (saveBtn) {
      saveBtn.addEventListener('click', saveComparePagingRecord);
    }

    const runBtn = document.getElementById('run-compare-paging-btn');
    if (runBtn) {
      runBtn.addEventListener('click', runComparePaging);
    }
  });

  // --- Preset ì°¸ì¡°ì—´ ì •ì˜ ---
  function getPresetRefs(scenarioId) {
    switch (scenarioId) {
      case 'A':
        // ì¢‹ì€ ì§€ì—­ì„±: ê±°ì˜ ìˆœì°¨ ì ‘ê·¼
        return [0,1,2,3,4,5,4,3,2,1,0,1,2,3,4,5];
      case 'B':
        // ëœë¤ì„±ì´ ì„ì¸ íŒ¨í„´
        return [7,0,1,2,0,3,0,4,2,3,0,3,2,1,2,0,1,7,0,1];
      case 'C':
        // Working set > frames ëŠë‚Œ
        return [1,2,3,4,5,1,2,3,4,5,1,2,3,4,5];
      default:
        return [];
    }
  }

  // --- /api/sim/paging í˜¸ì¶œ ---
  async function requestPaging(algo, frames, refs) {
    const body = {
      algo: algo,
      frames: frames,
      refs: refs
    };

    const res = await fetch('/api/sim/paging', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(body)
    });

    if (!res.ok) {
      throw new Error('ì„œë²„ ì˜¤ë¥˜: ' + res.status);
    }
    return await res.json(); // { steps: [...], faults: n }
  }

  function calcRates(faults, total) {
    if (!total || total <= 0) {
      return { faultRate: 0, hitRate: 0 };
    }
    const faultRate = faults / total;
    const hitRate = 1 - faultRate;
    return { faultRate, hitRate };
  }

  // Hit=1, Miss=10 ê°€ì •í•œ AMAT
  function calcAMAT(faultRate, hitRate) {
    const Th = 1;   // hit time
    const Tm = 10;  // miss penalty
    const amat = Th * hitRate + Tm * faultRate;
    return amat;
  }

  // ë¬¸ìì—´ ë²„ì „ íƒ€ì„ë¼ì¸ (í•„ìš”í•˜ë©´ ë§ˆì´í˜ì´ì§€ ë“±ì—ì„œ ì‚¬ìš©)
  function formatTimeline(steps) {
    if (!steps || steps.length === 0) {
      return 'ì‹œë®¬ë ˆì´ì…˜ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.';
    }
    const parts = steps.map(step => {
      const tag = step.fault ? 'F' : 'H';
      return `${step.ref}(${tag})`;
    });
    const maxLen = 40;
    if (parts.length > maxLen) {
      return parts.slice(0, maxLen).join('  ') + '  â€¦';
    }
    return parts.join('  ');
  }

  // ğŸ”¹ ì´ˆë¡/ë¹¨ê°• ì ìœ¼ë¡œ ë³´ì—¬ì£¼ëŠ” Frame Timeline
  function renderTimelineVisual(containerId, steps) {
    const box = document.getElementById(containerId);
    if (!box) return;

    box.innerHTML = '';

    if (!steps || steps.length === 0) {
      box.textContent = 'ì‹œë®¬ë ˆì´ì…˜ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.';
      return;
    }

    const wrap = document.createElement('div');
    wrap.className = 'timeline-visual';

    steps.forEach((step, idx) => {
      const dot = document.createElement('div');
      dot.className = 'timeline-dot ' + (step.fault ? 'fault' : 'hit');

      const tagText = step.fault ? 'Fault' : 'Hit';
      dot.title = `#${idx + 1}: ${step.ref} (${tagText})`;

      wrap.appendChild(dot);
    });

    box.appendChild(wrap);
  }

  function renderPagingResult(side, algo, data, refCount) {
    const faults = data.faults ?? 0;
    const steps = data.steps || [];
    const { faultRate, hitRate } = calcRates(faults, refCount);
    const amat = calcAMAT(faultRate, hitRate);

    const prefix = side === 'left' ? 'alg1' : 'alg2';

    const fEl  = document.getElementById(prefix + '-faults');
    const frEl = document.getElementById(prefix + '-faultRate');
    const hrEl = document.getElementById(prefix + '-hitRate');
    const aEl  = document.getElementById(prefix + '-amat');
    const dEl  = document.getElementById(prefix + '-dirty');
    const tEl  = document.getElementById(prefix + '-timeline');

    if (!fEl || !frEl || !hrEl || !aEl || !dEl || !tEl) return;

    fEl.textContent  = faults;
    frEl.textContent = (faultRate * 100).toFixed(1) + ' %';
    hrEl.textContent = (hitRate * 100).toFixed(1) + ' %';
    aEl.textContent  = amat.toFixed(2) + ' (ë‹¨ìœ„ ì‹œê°„ ê¸°ì¤€)';
    dEl.textContent  = '-'; // Dirty í˜ì´ì§€ëŠ” í˜„ì¬ ì‹œë®¬ì—ì„œ ë¯¸êµ¬í˜„

    // ğŸ‘‰ ì  ê·¸ë˜í”„ íƒ€ì„ë¼ì¸ ë Œë”ë§
    renderTimelineVisual(prefix + '-timeline', steps);

    fEl.classList.remove('placeholder');
    frEl.classList.remove('placeholder');
    hrEl.classList.remove('placeholder');
    aEl.classList.remove('placeholder');
    dEl.classList.remove('placeholder');
  }

  // =========================================
  //   Comparison Insight Â· ë¹„êµ ì¸ì‚¬ì´íŠ¸ ë¡œì§
  // =========================================

  // ì•Œê³ ë¦¬ì¦˜ ìŒ key (ìˆœì„œ ìƒê´€ X)
  function makePairKey(a, b) {
    const arr = [(a || '').toUpperCase(), (b || '').toUpperCase()].sort();
    return arr.join('-');
  }

  // í”„ë ˆì„ ìˆ˜ bucket
  function getFrameBucket(frames) {
    const f = Number(frames);
    if (!f || isNaN(f)) return 'mid';
    if (f <= 3) return 'small';
    if (f <= 5) return 'mid';
    return 'large';
  }

  // 1) ì•Œê³ ë¦¬ì¦˜ ìŒ ê¸°ë³¸ ì½”ë©˜íŠ¸
  const baseCommentMap = {
    'FIFO-OPT':
      'ê°™ì€ ì°¸ì¡° ë¬¸ìì—´ê³¼ í”„ë ˆì„ ìˆ˜ì—ì„œ OPTëŠ” â€œì•ìœ¼ë¡œ ê°€ì¥ ì˜¤ë«ë™ì•ˆ ì“°ì´ì§€ ì•Šì„ í˜ì´ì§€â€ë¥¼ êµì²´í•˜ê¸° ë•Œë¬¸ì— ì´ë¡ ì ìœ¼ë¡œ ê°€ëŠ¥í•œ ìµœì†Œ Page Fault ìˆ˜ë¥¼ ë³´ì—¬ ì¤ë‹ˆë‹¤. ë°˜ë©´ FIFOëŠ” ë‹¨ìˆœíˆ ë¨¼ì € ë“¤ì–´ì˜¨ í˜ì´ì§€ë¶€í„° ë‚´ì«“ê¸° ë•Œë¬¸ì—, ìì£¼ ì“°ì´ëŠ” í˜ì´ì§€ê°€ ë¨¼ì € ë‚˜ê°€ê±°ë‚˜ í”„ë ˆì„ì„ ëŠ˜ë ¸ëŠ”ë°ë„ Page Faultê°€ ì˜¤íˆë ¤ ì¦ê°€í•˜ëŠ” Beladyì˜ ëª¨ìˆœì´ ë‚˜íƒ€ë‚  ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
    'FIFO-LRU':
      'FIFOëŠ” ë“¤ì–´ì˜¨ ìˆœì„œë§Œ ë³´ê³  êµì²´í•˜ê¸° ë•Œë¬¸ì—, ìµœê·¼ì— ê³„ì† ì“°ì´ê³  ìˆëŠ” í˜ì´ì§€ë¼ë„ ì˜¤ë˜ ì „ì— ë“¤ì–´ì™”ë‹¤ëŠ” ì´ìœ ë§Œìœ¼ë¡œ ì«“ì•„ëƒ…ë‹ˆë‹¤. LRUëŠ” â€œê°€ì¥ ì˜¤ë˜ ì°¸ì¡°ë˜ì§€ ì•Šì€ í˜ì´ì§€â€ë¥¼ êµì²´í•´ì„œ ì‹¤ì œ í”„ë¡œê·¸ë¨ì˜ ì‹œê°„ì  ì§€ì—­ì„±ì„ ë°˜ì˜í•˜ë¯€ë¡œ ì¼ë°˜ì ìœ¼ë¡œ FIFOë³´ë‹¤ Page Fault ìˆ˜ê°€ ì ê³  Hit Rateê°€ ë” ë†’ì€ í¸ì…ë‹ˆë‹¤.',
    'FIFO-CLOCK':
      'Clockì€ í•˜ë“œì›¨ì–´ì˜ ì°¸ì¡° ë¹„íŠ¸(R)ë¥¼ ì´ìš©í•´ â€œìµœê·¼ì— ì“°ì´ì§€ ì•Šì€ í˜ì´ì§€â€ë¶€í„° êµì²´í•˜ë ¤ëŠ” êµ¬ì¡°ë¼, ë“¤ì–´ì˜¨ ìˆœì„œë§Œ ë³´ëŠ” FIFOë³´ë‹¤ LRUì— ë” ê°€ê¹Œìš´ í–‰ë™ì„ í•©ë‹ˆë‹¤. ë”°ë¼ì„œ êµ¬í˜„ ë‚œì´ë„ëŠ” FIFOë³´ë‹¤ ì•½ê°„ ë†’ì§€ë§Œ, ëŒ€ë¶€ë¶„ì˜ ê²½ìš° Page FaultÂ·Hit Rate ë©´ì—ì„œ FIFOë³´ë‹¤ ì•ˆì •ì ì¸ ì„±ëŠ¥ì„ ë³´ì—¬ ì¤ë‹ˆë‹¤.',
    'OPT-LRU':
      'OPTëŠ” â€œë¯¸ë˜ë¥¼ ì „ë¶€ ì•ˆë‹¤â€ëŠ” ë¹„í˜„ì‹¤ì ì¸ ê°€ì • ë•ë¶„ì— í•­ìƒ ê°€ì¥ ì¢‹ì€ ë‹µì„ ë‚´ì§€ë§Œ, ì‹¤ì œ ì‹œìŠ¤í…œì—ì„  êµ¬í˜„í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. LRUëŠ” ê³¼ê±°ì˜ ì°¸ì¡° ê¸°ë¡ì„ ê¸°ë°˜ìœ¼ë¡œ â€œìµœê·¼ì— ë§ì´ ì¼ìœ¼ë©´ ì•ìœ¼ë¡œë„ ì“¸ ê²ƒâ€ì´ë¼ëŠ” ì§€ì—­ì„± ê°€ì •ì„ ì´ìš©í•´ OPTì— ê·¼ì ‘í•œ ê²°ê³¼ë¥¼ ëª©í‘œë¡œ í•©ë‹ˆë‹¤. ë”°ë¼ì„œ Page Fault ìˆ˜ëŠ” OPTë³´ë‹¤ëŠ” ë§ì§€ë§Œ, ì‹¤ì „ì—ì„œ êµ¬í˜„ ê°€ëŠ¥í•œ ê²ƒ ì¤‘ì—ì„œëŠ” ì„±ëŠ¥ì´ ê°€ì¥ ì¢‹ì€ ì¶•ì— ì†í•©ë‹ˆë‹¤.',
    'OPT-CLOCK':
      'Clockì€ ì°¸ì¡° ë¹„íŠ¸ë§Œ ê°„ë‹¨íˆ í™•ì¸í•´ì„œ â€œìµœê·¼ì— ì“°ì¸ ì ì´ ì—†ë‹¤ë©´ êµì²´ í›„ë³´â€ë¡œ ë³´ëŠ” ë°©ì‹ì´ë¼, LRUë³´ë‹¤ë„ ë” ê·¼ì‚¬ì ì¸ ë°©ì‹ì…ë‹ˆë‹¤. OPTì™€ ë¹„êµí–ˆì„ ë•Œ Page Fault ìˆ˜ëŠ” ë” ë§ì§€ë§Œ, ìš”êµ¬í•˜ëŠ” ì •ë³´ê°€ í›¨ì”¬ ë‹¨ìˆœí•˜ê³  â€œìì£¼ ì“°ì´ì§€ ì•ŠëŠ” í˜ì´ì§€ë¶€í„° ì«“ì•„ë‚¸ë‹¤â€ëŠ” ë°©í–¥ì€ OPTì™€ ë¹„ìŠ·í•©ë‹ˆë‹¤.',
    'CLOCK-LRU':
      'LRUëŠ” â€œì •í™•í•œ ë§ˆì§€ë§‰ ì°¸ì¡° ì‹œì â€ì´ë‚˜ ìŠ¤íƒ êµ¬ì¡°ë¥¼ ìœ ì§€í•´ì•¼ í•´ì„œ êµ¬í˜„ ë¹„ìš©ì´ ë†’ì€ ëŒ€ì‹ , ì§€ì—­ì„±ì„ ì˜ ë°˜ì˜í•´ Page Faultë¥¼ ë§ì´ ì¤„ì—¬ ì¤ë‹ˆë‹¤. Clockì€ ì°¸ì¡° ë¹„íŠ¸ë§Œ ì´ìš©í•˜ëŠ” ì €ë ´í•œ ê·¼ì‚¬ ë°©ì‹ì´ë¼ êµ¬í˜„ì´ ë‹¨ìˆœí•˜ê³  ì˜¤ë²„í—¤ë“œê°€ ì ì§€ë§Œ, LRUë§Œí¼ ì •ë°€í•˜ê²Œ â€œì§„ì§œ ì˜¤ë˜ ì•ˆ ì“°ì¸ í˜ì´ì§€â€ë¥¼ ê³¨ë¼ë‚´ì§€ëŠ” ëª»í•©ë‹ˆë‹¤. ê·¸ ëŒ€ì‹  LRUì™€ OPT ì¤‘ê°„ ì •ë„ì˜ ì„±ëŠ¥ì„ ë¹„êµì  ì‹¼ ë¹„ìš©ìœ¼ë¡œ ì–»ì„ ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ì´ ìˆìŠµë‹ˆë‹¤.'
  };

  // 2) ì‹œë‚˜ë¦¬ì˜¤ë³„ ì½”ë©˜íŠ¸
  const scenarioCommentMap = {
    'A': { // ì¢‹ì€ ì§€ì—­ì„±
      'FIFO-OPT':
        'Preset Aì²˜ëŸ¼ ìˆœì°¨ ì ‘ê·¼ì´ ê°•í•œ ê²½ìš° OPTëŠ” ê±°ì˜ ìµœì  ìˆ˜ì¤€ì˜ Page Faultë¥¼ ë³´ì—¬ ì£¼ê³ , FIFOë„ ì–´ëŠ ì •ë„ëŠ” ì§€ì—­ì„±ì„ ë”°ë¼ê°€ì§€ë§Œ ì´ˆê¸° êµ¬ê°„ì—ì„œ ìì£¼ ì“°ì¼ í˜ì´ì§€ê°€ ë¨¼ì € ì«“ê²¨ë‚˜ë©° OPTë³´ë‹¤ ë” ë§ì€ Faultê°€ ë°œìƒí•˜ëŠ” êµ¬ê°„ì´ ëˆˆì— ë•ë‹ˆë‹¤.',
      'FIFO-LRU':
        'Preset Aì—ì„œëŠ” LRUê°€ ìµœê·¼ì— ì“°ì¸ í˜ì´ì§€ë¥¼ ì˜ ë¶™ì¡ì•„ ë‘ê¸° ë•Œë¬¸ì— FIFOë³´ë‹¤ Page Faultê°€ í™•ì‹¤íˆ ì¤„ì–´ë“œëŠ” ëª¨ìŠµì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. FIFOëŠ” ì´ˆê¸°ì— ë“¤ì–´ì˜¨ í˜ì´ì§€ë¥¼ ëê¹Œì§€ ë¨¼ì € ë‚´ì«“ìœ¼ë©´ì„œ, ì‹¤ì œë¡œ ê³§ ë‹¤ì‹œ ì°¸ì¡°ë  í˜ì´ì§€ë¥¼ ìƒì–´ë²„ë¦¬ëŠ” ë¹„íš¨ìœ¨ì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.',
      'FIFO-CLOCK':
        'ìˆœì°¨ ì ‘ê·¼ì—ì„œëŠ” Clockë„ ì°¸ì¡° ë¹„íŠ¸ë¥¼ ì´ìš©í•´ â€œìµœê·¼ì— ì“°ì¸ í˜ì´ì§€â€ë¥¼ ë³´í˜¸í•´ ì£¼ê¸° ë•Œë¬¸ì—, ë‹¨ìˆœ FIFOë³´ë‹¤ Page Faultê°€ ì¤„ì–´ë“œëŠ” ê²½í–¥ì´ ìˆìŠµë‹ˆë‹¤. ì‹œê³„ ë°”ëŠ˜ì´ í•œ ë°”í€´ ë„ëŠ” ë™ì•ˆ ì°¸ì¡° ë¹„íŠ¸ê°€ 1ë¡œ ìœ ì§€ë˜ëŠ” í˜ì´ì§€ëŠ” ê·¸ëŒ€ë¡œ ë‚¨ê³ , ì§„ì§œë¡œ í•œë™ì•ˆ ì“°ì´ì§€ ì•Šì€ í˜ì´ì§€ê°€ êµì²´ë˜ëŠ” íŒ¨í„´ì´ ì˜ ë“œëŸ¬ë‚©ë‹ˆë‹¤.',
      'OPT-LRU':
        'Preset Aì—ì„œëŠ” ìˆœì°¨ ì ‘ê·¼ì´ ê°•í•´ì„œ LRUì˜ â€œìµœê·¼ì— ì¼ìœ¼ë©´ ì•ìœ¼ë¡œë„ ì“´ë‹¤â€ëŠ” ê°€ì •ì´ ê±°ì˜ ì™„ë²½í•˜ê²Œ ë“¤ì–´ë§ìŠµë‹ˆë‹¤. OPTì™€ ë¹„êµí–ˆì„ ë•Œ Page Fault ìˆ˜ ì°¨ì´ê°€ í¬ì§€ ì•Šê³ , LRUê°€ OPTì— ìƒë‹¹íˆ ê·¼ì ‘í•œ ì„±ëŠ¥ì„ ë³´ì—¬ ì£¼ëŠ” ì¢‹ì€ ì˜ˆì‹œê°€ ë©ë‹ˆë‹¤.',
      'OPT-CLOCK':
        'Preset Aì—ì„œ Clockì€ ì°¸ì¡° ë¹„íŠ¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ LRUë¥¼ ì‹¸ê²Œ ê·¼ì‚¬í•˜ê¸° ë•Œë¬¸ì—, OPTë³´ë‹¤ëŠ” Page Faultê°€ ë§ì§€ë§Œ FIFOë³´ë‹¤ëŠ” í™•ì‹¤íˆ ì ì€ ì¤‘ê°„ ìˆ˜ì¤€ì˜ ì„±ëŠ¥ì„ ë³´ì—¬ ì¤ë‹ˆë‹¤. â€œì°¸ì¡° ë¹„íŠ¸ë§Œ ìˆì–´ë„ ì§€ì—­ì„±ì´ ì–´ëŠ ì •ë„ ì‚´ì•„ë‚œë‹¤â€ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆëŠ” ì‹œë‚˜ë¦¬ì˜¤ì…ë‹ˆë‹¤.',
      'CLOCK-LRU':
        'ìˆœì°¨ ì ‘ê·¼ì—ì„œëŠ” LRUì™€ Clock ëª¨ë‘ ì§€ì—­ì„±ì„ ì–´ëŠ ì •ë„ ì˜ í™œìš©í•˜ë¯€ë¡œ ë‘˜ì˜ Page Fault ì°¨ì´ê°€ í¬ê²Œ ë²Œì–´ì§€ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ë§Œ ì°¸ì¡° ë¹„íŠ¸ë§Œ ë³´ëŠ” Clock íŠ¹ì„±ìƒ ì„¸ë°€í•œ ì‹œê°„ ìˆœì„œ ì •ë³´ê°€ í•„ìš”í•œ ìƒí™©ì—ì„œëŠ” LRUê°€ ì¡°ê¸ˆ ë” ì•ˆì •ì ì¸ Hit Rateë¥¼ ë³´ì—¬ ì£¼ëŠ” ê²½í–¥ì´ ìˆìŠµë‹ˆë‹¤.'
    },
    'B': { // ëœë¤ ì„ì„
      'FIFO-OPT':
        'Preset Bì²˜ëŸ¼ ëœë¤ì„±ì´ ì„ì¸ ê²½ìš° FIFOëŠ” â€œë¨¼ì € ë“¤ì–´ì˜¨ ìˆœì„œâ€ë§Œ ë³´ê³  êµì²´í•˜ê¸° ë•Œë¬¸ì—, ì‹¤ì œë¡œëŠ” ê³§ ë‹¤ì‹œ ì°¸ì¡°ë  í˜ì´ì§€ë¥¼ ë‚´ì«“ëŠ” ê²½ìš°ê°€ ì¦ì•„ì§‘ë‹ˆë‹¤. OPTëŠ” ë¯¸ë˜ ì •ë³´ë¥¼ ì•Œê³  ìˆê¸° ë•Œë¬¸ì— Page Fault ìˆ˜ ì°¨ì´ê°€ Aë³´ë‹¤ ë” ê·¹ì ìœ¼ë¡œ ë²Œì–´ì§€ëŠ” í¸ì…ë‹ˆë‹¤.',
      'FIFO-LRU':
        'ëœë¤ ì ‘ê·¼ì´ ë§ì•„ì§€ë©´ LRUë„ ì´ìƒì ì¸ ì„ íƒê³¼ëŠ” ê±°ë¦¬ê°€ ìƒê¸°ì§€ë§Œ, ê·¸ë˜ë„ â€œìµœê·¼ì— í•œ ë²ˆë„ ì•ˆ ì“°ì¸ í˜ì´ì§€â€ë¥¼ êµì²´í•˜ëŠ” ì „ëµ ë•ë¶„ì— FIFOë³´ë‹¤ëŠ” Page Faultë¥¼ ì¤„ì´ëŠ” ë° ìœ ë¦¬í•©ë‹ˆë‹¤. íŠ¹íˆ FIFOê°€ ë°˜ë³µí•´ì„œ ë¹„ìŠ·í•œ í˜ì´ì§€ ì§‘í•©ì„ ë–¨êµ¬ê³  ë‹¤ì‹œ ì˜¬ë¦¬ëŠ” ë¹„íš¨ìœ¨ì´ ìƒê¸¸ ë•Œ, LRUëŠ” ìƒëŒ€ì ìœ¼ë¡œ ì•ˆì •ì ì¸ Hit Rateë¥¼ ìœ ì§€í•©ë‹ˆë‹¤.',
      'FIFO-CLOCK':
        'Preset Bì—ì„œëŠ” Clockë„ ì°¸ì¡° ë¹„íŠ¸ë¥¼ í™œìš©í•´ í•œë™ì•ˆ ì•ˆ ì“°ì¸ í˜ì´ì§€ë¶€í„° ë‚´ë³´ë‚´ë ¤ í•˜ì§€ë§Œ, ëœë¤ ì í”„ê°€ ë§ì„ìˆ˜ë¡ ì°¸ì¡° ë¹„íŠ¸ íŒ¨í„´ì´ í©ì–´ì ¸ ì´ìƒì ì¸ ì„ íƒê³¼ ë©€ì–´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ë˜ë„ ë‹¨ìˆœ FIFOë³´ë‹¤ëŠ” Page Fault ìˆ˜ê°€ ì¤„ì–´ë“œëŠ” êµ¬ê°„ì´ ë§ê³ , ìµœì†Œí•œ â€œì™„ì „ ëœë¤ êµì²´â€ë³´ë‹¤ëŠ” ë˜‘ë˜‘í•˜ê²Œ ì›€ì§ì´ëŠ” ëª¨ìŠµì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
      'OPT-LRU':
        'ëœë¤ì„±ì´ ì„ì¸ Preset Bì—ì„œëŠ” LRUê°€ ë•Œë•Œë¡œ â€œë°©ê¸ˆ ì¼ì§€ë§Œ ì•ìœ¼ë¡œëŠ” ì˜¤ë˜ ì•ˆ ì“¸ í˜ì´ì§€â€ë¥¼ ë¶™ì¡ê³ , ì‚¬ì‹¤ìƒ ë‹¤ì‹œëŠ” ì•ˆ ì“¸ í˜ì´ì§€ë¥¼ ë‚´ì«“ëŠ” ì‹¤ìˆ˜ë¥¼ í•˜ê²Œ ë©ë‹ˆë‹¤. ê·¸ ê²°ê³¼ OPTì™€ì˜ Page Fault ì°¨ì´ê°€ Aë³´ë‹¤ ì»¤ì§€ê³ , LRUê°€ í•­ìƒ OPTì— ê°€ê¹ì§€ëŠ” ì•Šë‹¤ëŠ” ì ì„ ì˜ ë³´ì—¬ ì¤ë‹ˆë‹¤.',
      'OPT-CLOCK':
        'Preset Bì—ì„œ Clockì€ ì°¸ì¡° ë¹„íŠ¸ë§Œ ë³´ê³  ëŒ€ëµì ì¸ â€œìµœê·¼ ì‚¬ìš© ì—¬ë¶€â€ë§Œ íŒë‹¨í•˜ë¯€ë¡œ, LRUë³´ë‹¤ë„ ë” ê·¼ì‚¬ì ì¸ ì „ëµì´ ë©ë‹ˆë‹¤. OPTì™€ ë¹„êµí–ˆì„ ë•Œ Page Fault í¸ì°¨ê°€ ì œë²• ì»¤ì§ˆ ìˆ˜ ìˆê³ , íŠ¹ì • í˜ì´ì§€ê°€ ìì£¼ ì“°ì´ê¸´ í•˜ì§€ë§Œ ì°¸ì¡° ê°„ê²©ì´ ê¸¸ì–´ì§€ëŠ” ê²½ìš° Clockì´ ê·¸ í˜ì´ì§€ë¥¼ ì¼ì° ë²„ë¦¬ëŠ” íŒ¨í„´ì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.',
      'CLOCK-LRU':
        'ëœë¤ ì ‘ê·¼ì´ ë§ì„ìˆ˜ë¡ LRUì™€ Clock ë‘˜ ë‹¤ ìµœì„ ì˜ ì„ íƒê³¼ëŠ” ë©€ì–´ì§€ì§€ë§Œ, LRUëŠ” ì—¬ì „íˆ ìµœê·¼ ì‚¬ìš© ì‹œì ì„ ë” ì„¸ë°€í•˜ê²Œ ê¸°ì–µí•˜ê¸° ë•Œë¬¸ì— Clockë³´ë‹¤ Page Faultê°€ ì ê²Œ ë‚˜ì˜¤ëŠ” ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤. ë°˜ëŒ€ë¡œ Clockì€ LRUì— ë¹„í•´ ì„±ëŠ¥ì„ ì¡°ê¸ˆ ì–‘ë³´í•˜ëŠ” ëŒ€ì‹  êµ¬í˜„ ë¹„ìš©ê³¼ ì˜¤ë²„í—¤ë“œë¥¼ í¬ê²Œ ì¤„ì¸ íƒ€í˜‘ì•ˆì— ê°€ê¹ìŠµë‹ˆë‹¤.'
    },
    'C': { // Working set > frames
      'FIFO-OPT':
        'Preset Cì²˜ëŸ¼ Working Setì´ í”„ë ˆì„ ìˆ˜ë³´ë‹¤ í›¨ì”¬ í° ìƒí™©ì—ì„œëŠ” OPTì¡°ì°¨ë„ Page Faultë¥¼ íšê¸°ì ìœ¼ë¡œ ì¤„ì¼ ìˆ˜ ì—†ê³  â€œìµœì•… ì¤‘ì—ì„œ ê·¸ë‚˜ë§ˆ ëœ ë‚˜ìœâ€ ê²°ê³¼ë¥¼ ë³´ì—¬ ì¤ë‹ˆë‹¤. FIFOëŠ” ì´ëŸ° ìƒí™©ì—ì„œ ìì£¼ ì“°ì´ëŠ” í˜ì´ì§€ë¥¼ ê³„ì† ë‚´ì«“ìœ¼ë©°, OPTì™€ì˜ Fault ìˆ˜ ì°¨ì´ê°€ í¬ê²Œ ë²Œì–´ì§€ëŠ” ê·¹ë‹¨ì ì¸ ì˜ˆì‹œë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
      'FIFO-LRU':
        'íŠ¸ë˜ì‹±ì— ê°€ê¹Œìš´ Preset Cì—ì„œëŠ” ì–´ë–¤ ì•Œê³ ë¦¬ì¦˜ì„ ì“°ë”ë¼ë„ Faultê°€ ë§ì§€ë§Œ, LRUëŠ” ê·¸ë‚˜ë§ˆ â€œìµœê·¼ì— ìì£¼ ì“°ì¸ í˜ì´ì§€â€ë¼ë„ ë³´í˜¸í•˜ë ¤ê³  í•´ì„œ FIFOë³´ë‹¤ ì•½ê°„ ë” ë‚˜ì€ Hit Rateë¥¼ ë³´ì´ëŠ” ì •ë„ì˜ ì°¨ì´ê°€ ë‚©ë‹ˆë‹¤. ì „ì²´ì ìœ¼ë¡œëŠ” ë©”ëª¨ë¦¬ ìì²´ê°€ ë¶€ì¡±í•˜ê¸° ë•Œë¬¸ì— ì•Œê³ ë¦¬ì¦˜ ì°¨ì´ë³´ë‹¤ í”„ë ˆì„ ìˆ˜ ë¶€ì¡±ì˜ ì˜í–¥ì´ ë” í¬ë‹¤ëŠ” ì ë„ ë“œëŸ¬ë‚©ë‹ˆë‹¤.',
      'FIFO-CLOCK':
        'Preset Cì—ì„œëŠ” Clockë„ ì°¸ì¡° ë¹„íŠ¸ íŒ¨í„´ì´ í•­ìƒ 1ë¡œ ê°€ë“ ì°¨ ìˆëŠ” ê²ƒì²˜ëŸ¼ ë³´ì´ë©´ì„œ, ì‚¬ì‹¤ìƒ â€œëª¨ë‘ ìì£¼ ì“°ì¸ë‹¤â€ë¼ëŠ” ì‹ í˜¸ë§Œ ë°›ê²Œ ë©ë‹ˆë‹¤. ì´ ê²½ìš° Clockê³¼ FIFOì˜ Page Fault ì°¨ì´ê°€ ì¤„ì–´ë“¤ ìˆ˜ ìˆê³ , ë‘˜ ë‹¤ íŠ¸ë˜ì‹±ì— ê°€ê¹ê²Œ ìì£¼ Faultë¥¼ ë°œìƒì‹œí‚¤ëŠ” ëª¨ìŠµì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
      'OPT-LRU':
        'Working Setì´ í”„ë ˆì„ ìˆ˜ë¥¼ ì‹¬í•˜ê²Œ ì´ˆê³¼í•˜ëŠ” C ì‹œë‚˜ë¦¬ì˜¤ì—ì„œëŠ” OPTì™€ LRUì˜ ì°¨ì´ë„ ì˜ë¯¸ê°€ ì¤„ì–´ë“­ë‹ˆë‹¤. LRUê°€ ìµœëŒ€í•œ ìµœê·¼ í˜ì´ì§€ë¥¼ ì§€í‚¤ë ¤ í•˜ì§€ë§Œ, ì• ì´ˆì— ë©”ëª¨ë¦¬ê°€ ë¶€ì¡±í•´ ë‘˜ ë‹¤ ìì£¼ êµì²´í•  ìˆ˜ë°–ì— ì—†ì–´ì„œ Page Fault ìˆ˜ê°€ ì „ë°˜ì ìœ¼ë¡œ ë†’ìŠµë‹ˆë‹¤. ì´ ì‹œë‚˜ë¦¬ì˜¤ëŠ” â€œì•Œê³ ë¦¬ì¦˜ë³´ë‹¤ í”„ë ˆì„ ìˆ˜ê°€ ë¨¼ì € ë¬¸ì œì¸ ìƒíƒœâ€ë¥¼ ì˜ ë³´ì—¬ ì¤ë‹ˆë‹¤.',
      'OPT-CLOCK':
        'Preset Cì—ì„œ Clockì€ ì°¸ì¡° ë¹„íŠ¸ë§Œ ë³´ë©´ ëª¨ë“  í˜ì´ì§€ê°€ ìì£¼ ì“°ì´ëŠ” ê²ƒì²˜ëŸ¼ ë³´ì´ê¸° ë•Œë¬¸ì—, ì§„ì§œë¡œ í•œë™ì•ˆ ì•ˆ ì“¸ í˜ì´ì§€ë¥¼ ê°€ë ¤ë‚´ê¸° ì–´ë µìŠµë‹ˆë‹¤. OPTì™€ ë¹„êµí•˜ë©´ Fault ìˆ˜ ì°¨ì´ê°€ ìƒë‹¹íˆ ë²Œì–´ì§€ë©°, â€œì°¸ì¡° ë¹„íŠ¸ í•˜ë‚˜ë§Œìœ¼ë¡œëŠ” íŠ¸ë˜ì‹± ìƒí™©ì„ ì œëŒ€ë¡œ êµ¬ë¶„í•˜ê¸° í˜ë“¤ë‹¤â€ëŠ” í•œê³„ë¥¼ ë³´ì—¬ ì¤ë‹ˆë‹¤.',
      'CLOCK-LRU':
        'C ì‹œë‚˜ë¦¬ì˜¤ì—ì„œëŠ” LRUì™€ Clock ëª¨ë‘ ì¶©ë¶„í•œ í”„ë ˆì„ì´ ì—†ì–´ì„œ ìì£¼ Faultë¥¼ ë‚´ì§€ë§Œ, LRUëŠ” ì¡°ê¸ˆì´ë¼ë„ ìµœê·¼ì— ì“°ì¸ í˜ì´ì§€ë¥¼ ìš°ì„ ì ìœ¼ë¡œ ìœ ì§€í•˜ë ¤ í•©ë‹ˆë‹¤. Clockì€ ì°¸ì¡° ë¹„íŠ¸ê°€ ì „ì²´ì ìœ¼ë¡œ ìì£¼ 1ë¡œ ì„¸íŠ¸ë˜ë©´ì„œ â€œëˆ„ê°€ ì§„ì§œ ì˜¤ë˜ ì•ˆ ì“°ì˜€ëŠ”ì§€â€ êµ¬ë¶„ì´ ë§ì´ íë ¤ì ¸, LRUì™€ì˜ Page Fault ì°¨ì´ê°€ ì¡°ê¸ˆ ë” ë²Œì–´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.'
    }
  };

  // 3) í”„ë ˆì„ ìˆ˜ bucket ì½”ë©˜íŠ¸
  const frameCommentMap = {
    'small':
      'í”„ë ˆì„ ìˆ˜ê°€ ë§¤ìš° ì ê²Œ ì£¼ì–´ì§„ ìƒíƒœì—ì„œëŠ” ì–´ë–¤ ì•Œê³ ë¦¬ì¦˜ì„ ì“°ë”ë¼ë„ Page Faultê°€ ì „ë°˜ì ìœ¼ë¡œ ë§ì•„ì§‘ë‹ˆë‹¤. ì´ êµ¬ê°„ì—ì„œëŠ” ì•Œê³ ë¦¬ì¦˜ ì„±ëŠ¥ ì°¨ì´ë³´ë‹¤ â€œWorking Set ìì²´ê°€ ë©”ëª¨ë¦¬ì— ëª» ë“¤ì–´ì˜¤ëŠ” êµ¬ì¡°ì  í•œê³„â€ê°€ ë¨¼ì € ë“œëŸ¬ë‚˜ëŠ” í¸ì…ë‹ˆë‹¤.',
    'mid':
      'í”„ë ˆì„ì´ ì¡°ê¸ˆ ë” ì—¬ìœ  ìˆê²Œ ì£¼ì–´ì§€ë©´ OPTÂ·LRUÂ·Clockì²˜ëŸ¼ ì§€ì—­ì„±ì„ ì´ìš©í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ë“¤ì´ FIFOë³´ë‹¤ ëˆˆì— ë„ê²Œ ì¢‹ì€ Hit Rateë¥¼ ë³´ì—¬ ì£¼ê¸° ì‹œì‘í•©ë‹ˆë‹¤. íŠ¹íˆ LRU/Clockì€ ìì£¼ ì“°ì´ëŠ” í˜ì´ì§€ë¥¼ ë©”ëª¨ë¦¬ ì•ˆì— ê·¸ë‚˜ë§ˆ ìœ ì§€í•˜ë©´ì„œ, FIFOì™€ì˜ Page Fault ê²©ì°¨ê°€ ê°€ì¥ ì˜ ë“œëŸ¬ë‚˜ëŠ” êµ¬ê°„ì´ ë©ë‹ˆë‹¤.',
    'large':
      'í”„ë ˆì„ ìˆ˜ê°€ ì¶©ë¶„íˆ ì»¤ì ¸ì„œ Working Setê³¼ ë¹„ìŠ·í•˜ê±°ë‚˜ ë” í° ìˆ˜ì¤€ì´ ë˜ë©´, ëª¨ë“  ì•Œê³ ë¦¬ì¦˜ì˜ Page Fault ìˆ˜ê°€ ì „ë°˜ì ìœ¼ë¡œ ë‚´ë ¤ê°€ë©´ì„œ ì•Œê³ ë¦¬ì¦˜ ê°„ ì°¨ì´ê°€ ì¤„ì–´ë“­ë‹ˆë‹¤. ì´ êµ¬ê°„ì—ì„œëŠ” â€œì–´ë–¤ ì•Œê³ ë¦¬ì¦˜ì¸ê°€â€ë³´ë‹¤ â€œë©”ëª¨ë¦¬ê°€ ì¶©ë¶„íˆ í¬ë‹¤â€ëŠ” ì‚¬ì‹¤ì´ ë” ì¤‘ìš”í•œ ìš”ì†Œê°€ ë©ë‹ˆë‹¤.'
  };

  function getPagingComment(alg1, alg2, scenarioId, frames) {
    const upperA = (alg1 || '').toUpperCase();
    const upperB = (alg2 || '').toUpperCase();

    // ê°™ì€ ì•Œê³ ë¦¬ì¦˜ ì„ íƒ ì‹œ
    if (upperA === upperB && upperA) {
      return `ë‘ ì¹´ë“œ ëª¨ë‘ <b>${upperA}</b> ì•Œê³ ë¦¬ì¦˜ì„ ì„ íƒí•´ì„œ<br/>
ê°™ì€ ì°¸ì¡° ë¬¸ìì—´Â·í”„ë ˆì„ ìˆ˜ ê¸°ì¤€ìœ¼ë¡œ ì™„ì „íˆ ê°™ì€ íŒ¨í„´ì´ ë‚˜ì˜¤ëŠ” ê²ƒì´ ì •ìƒì…ë‹ˆë‹¤.<br/>
ì´ ê²½ìš°ì—ëŠ” ì ˆëŒ€ì ì¸ ì„±ëŠ¥ì„ ë³´ëŠ” ìš©ë„ë¡œ ì“¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.`;
    }

    const pairKey = makePairKey(alg1, alg2);
    const base = baseCommentMap[pairKey] || '';

    const scenMap = scenarioCommentMap[scenarioId] || {};
    const scen = scenMap[pairKey] || '';

    const bucket = getFrameBucket(frames);
    let frame = frameCommentMap[bucket] || '';

    if (bucket === 'mid' && pairKey.includes('FIFO')) {
      frame += (frame ? ' ' : '') +
        'ë˜í•œ ì´ ì •ë„ í”„ë ˆì„ í¬ê¸°ëŠ” FIFOì—ì„œ í”„ë ˆì„ ìˆ˜ ë³€í™”ì— ë”°ë¥¸ Beladyì˜ ëª¨ìˆœ ê°œë…ì„ ì„¤ëª…í•˜ê¸° ì¢‹ì€ ì¡°ê±´ì´ ë˜ê¸°ë„ í•©ë‹ˆë‹¤(ì‹¤ì œ ë°œìƒ ì—¬ë¶€ì™€ ë¬´ê´€í•˜ê²Œ êµìœ¡ìš© ì˜ˆì œë¡œ ì‚¬ìš©í•˜ê¸° ì¢‹ìŠµë‹ˆë‹¤).';
    }

    const parts = [base, scen, frame].filter(Boolean);
    if (!parts.length) return null;
    return parts.join('<br/><br/>');
  }

  function updatePagingComment(alg1, alg2, scenarioId, frames) {
    const insightSpan = document.getElementById('insight-text');
    if (!insightSpan) return;

    const comment = getPagingComment(alg1, alg2, scenarioId, frames);
    if (!comment) {
      insightSpan.innerHTML =
        'ì•Œê³ ë¦¬ì¦˜ ë¹„êµ í›„ ë™ì¼í•œ ì¡°ê±´ì—ì„œ ì™œ ì„œë¡œ ë‹¤ë¥¸ ì‹¤í–‰ íë¦„ê³¼ ì„±ëŠ¥ì„ ë³´ì´ëŠ”ì§€ ì„¤ëª…í•©ë‹ˆë‹¤.';
      return;
    }
    insightSpan.innerHTML = comment;
  }

  // --- â€œë¹„êµ ì‹¤í–‰â€ ë²„íŠ¼ ë¡œì§ ---
  async function runComparePaging() {
    const scenarioSelect = document.getElementById('scenario-select');
    const frameSelect = document.getElementById('frame-select');
    const alg1Select = document.getElementById('alg1-select');
    const alg2Select = document.getElementById('alg2-select');

    if (!scenarioSelect || !frameSelect || !alg1Select || !alg2Select) {
      alert('ì„ íƒ ì •ë³´ë¥¼ ì½ì–´ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
      return;
    }

    const scenarioId = scenarioSelect.value;
    const refs = getPresetRefs(scenarioId);
    if (!refs || refs.length === 0) {
      alert('ì„ íƒëœ ì‹œë‚˜ë¦¬ì˜¤ì— ì°¸ì¡° ë¬¸ìì—´ì´ ì—†ìŠµë‹ˆë‹¤.');
      return;
    }

    const frames = parseInt(frameSelect.value || '3', 10);
    const alg1 = alg1Select.value;
    const alg2 = alg2Select.value;

    try {
      const [res1, res2] = await Promise.all([
        requestPaging(alg1, frames, refs),
        requestPaging(alg2, frames, refs)
      ]);

      renderPagingResult('left', alg1, res1, refs.length);
      renderPagingResult('right', alg2, res2, refs.length);

      // Comparison Insight ì—…ë°ì´íŠ¸
      updatePagingComment(alg1, alg2, scenarioId, frames);
    } catch (e) {
      console.error(e);
      alert('ë¹„êµ ì‹¤í–‰ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
    }
  }

  // --- ë¹„êµ ê²°ê³¼ ì €ì¥ í•¨ìˆ˜ ---
  async function saveComparePagingRecord() {
    const scenarioSelect = document.getElementById('scenario-select');
    const frameSelect = document.getElementById('frame-select');
    const alg1Select = document.getElementById('alg1-select');
    const alg2Select = document.getElementById('alg2-select');

    if (!scenarioSelect || !frameSelect || !alg1Select || !alg2Select) {
      alert('ì„ íƒ ì •ë³´ë¥¼ ì½ì–´ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
      return;
    }

    // ğŸ” ì €ì¥ ì‹œì—ë„ í•œ ë²ˆ ë” ë¡œê·¸ì¸ í™•ì¸
    const user = sessionStorage.getItem('user');
    if (!user || user.trim() === '') {
      alert('ë¡œê·¸ì¸ì´ í•„ìš”í•œ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.');
      window.location.href = 'login.html';
      return;
    }

    const scenario = scenarioSelect.value;
    const scenarioLabel = scenarioSelect.options[scenarioSelect.selectedIndex].text;

    const frameValue = frameSelect.value;
    const frameLabel = frameSelect.options[frameSelect.selectedIndex].text;

    const alg1 = alg1Select.value;
    const alg1Label = alg1Select.options[alg1Select.selectedIndex].text;

    const alg2 = alg2Select.value;
    const alg2Label = alg2Select.options[alg2Select.selectedIndex].text;

    const insightSpan = document.getElementById('insight-text');
    const insightText = insightSpan ? insightSpan.innerText : '';

    const payload = {
      type: 'compare-paging',
      title: `Page Replacement ë¹„êµ (${alg1Label} vs ${alg2Label})`,
      scenario,
      scenarioLabel,
      frames: Number(frameValue),
      frameLabel,
      alg1,
      alg1Label,
      alg2,
      alg2Label,
      insight: insightText
    };

    try {
      const res = await fetch('/api/records', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(payload)
      });

      if (!res.ok) {
        throw new Error('status ' + res.status);
      }

      alert('ì €ì¥í•˜ì˜€ìŠµë‹ˆë‹¤. ë§ˆì´í˜ì´ì§€ì—ì„œ í™•ì¸í•˜ì„¸ìš”.');
    } catch (e) {
      console.error(e);
      alert('ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
    }
  }
</script>

</body>
</html>
